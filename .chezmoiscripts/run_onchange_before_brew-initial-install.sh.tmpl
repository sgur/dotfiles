{{ if and (eq .chezmoi.os "darwin" "linux") -}}
#!/usr/bin/env bash

{{ if lookPath "brew" | not -}}
/usr/bin/env bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
{{- end }}

brew bundle --file=- << EOS
tap "bloznelis/tap"
tap "charmbracelet/tap"
tap "homebrew/bundle"
{{- if eq .chezmoi.os "darwin" }}
tap "homebrew/cask-fonts"
tap "homebrew/cask-versions"
tap "microsoft/git"
{{- end }}
tap "rhysd/hgrep", "https://github.com/rhysd/hgrep"
tap "rsteube/tap"
tap "ynqa/tap"
brew "act"
brew "actionlint"
brew "aws-nuke"
brew "aws-vault"
brew "awscli"
brew "bat"
brew "bottom"
brew "broot"
brew "chezmoi"
brew "csvlens"
brew "ctop"
brew "difftastic"
brew "efm-langserver"
brew "eza"
brew "fd"
brew "fish"
brew "fzf"
brew "ghq"
brew "git"
brew "git-crypt"
brew "git-filter-repo"
brew "git-lfs"
brew "gitui"
brew "gnupg"
brew "go"
brew "grex"
brew "helix"
brew "hexyl"
brew "hurl"
brew "hyperfine"
brew "jq"
brew "kakoune"
brew "marksman"
brew "mdcat"
brew "mold"
brew "pandoc"
brew "pnpm"
brew "proto"
brew "ripgrep"
brew "ruff"
brew "ruff-lsp"
brew "rustup-init"
brew "sccache"
brew "shfmt"
brew "starship"
brew "tailspin"
brew "taplo"
brew "tig"
brew "uv"
brew "vim"
brew "xh"
brew "xq"
brew "yazi"
brew "yq"
brew "zellij"
brew "zoxide"
brew "bloznelis/tap/typioca"
brew "charmbracelet/tap/freeze"
brew "rhysd/hgrep/hgrep"
brew "rsteube/tap/carapace"
brew "ynqa/tap/jnv"
{{- if eq .chezmoi.os "linux" }}
brew "vim"
{{- else if eq .chezmoi.os "darwin" }}
brew "macvim"
brew "p7zip"
cask "git-credential-manager"
cask "kitty"
cask "visual-studio-code"
{{- end }}
EOS

{{ end -}}
