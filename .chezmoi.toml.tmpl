{{/* true if this machine should have Docker installed */}}
{{- $docker := false -}}
{{- $docker = promptBoolOnce . "docker" "Install docker" -}}

{{- $wsl := and (eq .chezmoi.os "linux") (.chezmoi.kernel.osrelease | lower | contains "microsoft") }}
{{- $wsl_systemd := false -}}
{{- if $wsl -}}
{{- $wsl_systemd = promptBoolOnce . "systemd" "Using systemd" -}}
{{- end -}}

progress = true
format = "yaml"

[edit]
{{- if eq .chezmoi.os "windows" }}
command = "gvim.exe"
args = ["--remote-tab-wait-silent"]
{{- else }}
command = "vim"
{{- end }}

[git]
autoCommit = true
autoPush = false

[cd]
{{- if eq .chezmoi.os "windows" }}
command='pwsh'
args=['-NoLogo']
{{- end }}

[data]
docker = {{ $docker }}
wsl = {{ $wsl }}
{{ if $wsl -}}
wsl_systemd = {{ $wsl_systemd }}
{{ end -}}
distribution = {{ get .chezmoi.osRelease "id" | quote }}
